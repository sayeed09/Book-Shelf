(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{44:function(e,t,n){e.exports=n(76)},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),l=n(14),i=n(11),s=n(17),u=n(40),p=n.n(u),m=n(41),d=n(16),v=n(8),b=n(9),h=n(12),f=n(10),E=n(13),y=n(29),O=n(18),g=n.n(O);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:"GET_BOOKS",payload:g.a.get("/api/books?skip=".concat(t,"&limit=").concat(e,"&order=").concat(n)).then(function(e){return a?[].concat(Object(y.a)(a),Object(y.a)(e.data)):e.data})}}var w=function(e){return r.a.createElement(l.b,{to:"/books/".concat(e._id),className:"book_item"},r.a.createElement("div",{className:"book_header"},r.a.createElement("h2",null,e.name)),r.a.createElement("div",{className:"book_items"},r.a.createElement("div",{className:"book_author"},e.author),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Price "),"Rs ",e.price),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Pages ")," ",e.pages),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Rating ")," ",e.rating)))},j=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).renderItems=function(e){return e.list?e.list.map(function(e){return r.a.createElement(w,Object.assign({},e,{key:e._id}))}):null},n.loadMore=function(){var e=n.props.books.list.length;n.props.dispatch(k(1,e,"desc",n.props.books.list))},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(k(1,0,"desc"))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderItems(this.props.books),r.a.createElement("div",{className:"loadmore",onClick:this.loadMore},"LoadMore"))}}]),t}(a.Component);var N=Object(i.b)(function(e){return{books:e.books}})(j),_=function(){return r.a.createElement("div",null,r.a.createElement(N,null))},P=n(22),x=n.n(P),I=n(43),R=n.n(I),C=function(){var e=[{type:"navItem",icon:"home",text:"Home",link:"/",restricted:!1},{type:"navItem",icon:"file-text-o",text:"My Profile",link:"/user",restricted:!0},{type:"navItem",icon:"file-text-o",text:"Add Admins",link:"/user/register",restricted:!0},{type:"navItem",icon:"file-text-o",text:"Login",link:"/login",restricted:!1,exclude:!0},{type:"navItem",icon:"file-text-o",text:"My reviews",link:"/user/user-reviews",restricted:!0},{type:"navItem",icon:"file-text-o",text:"Add reviews",link:"/user/add",restricted:!0},{type:"navItem",icon:"file-text-o",text:"Logout",link:"/user/logout",restricted:!0}];return r.a.createElement("div",null,e.map(function(e,t){return function(e,t){return r.a.createElement("div",{key:t,className:e.type},r.a.createElement(l.b,{to:e.link},r.a.createElement(x.a,{name:e.icon}),e.text))}(e,t)}))},S=function(e){return r.a.createElement(R.a,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"#242424",maxWidth:"220px"}},r.a.createElement(C,null))},A=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={showNav:!1},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"hideNav",value:function(){this.setState({showNav:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"open_nav"},r.a.createElement(x.a,{name:"bars",style:{color:"#ffffff",padding:"10px",cursor:"pointer"},onClick:function(){return e.setState({showNav:!0})}}),r.a.createElement(S,{showNav:this.state.showNav,onHideNav:function(){return e.hideNav()}}),r.a.createElement(l.b,{to:"/",className:"logo"},"The Book Shelf  ")))}}]),t}(r.a.Component),W=function(e){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement("div",null,e.children))},B=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).renderBook=function(e){return e.book?r.a.createElement("div",{className:"br_container"},r.a.createElement("div",{className:"br_header"},r.a.createElement("h2",null,e.book.name),r.a.createElement("h5",null,e.book.author),r.a.createElement("div",{className:"br_reviewer"},r.a.createElement("span",null,"Review by:")," ",e.reviewer.name," ",e.reviewer.lastname)),r.a.createElement("div",{className:"br_review"},e.book.review),r.a.createElement("div",{className:"br_box"},r.a.createElement("div",{className:"left"},r.a.createElement("div",null,r.a.createElement("span",null,"Pages:")," ",e.book.pages),r.a.createElement("div",null,r.a.createElement("span",null,"Price:")," ",e.book.price)),r.a.createElement("div",{className:"right"},r.a.createElement("span",null,"Rating"),r.a.createElement("div",null,e.book.rating,"/5")))):null},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(function(e){var t=g.a.get("/api/getBook?id=".concat(e));return function(e){t.then(function(t){var n=t.data;g.a.get("/api/getReviewer?id=".concat(n.ownerId)).then(function(t){var a=t.data;e({type:"GET_BOOK_WITH_REVIEWER",payload:{book:n,reviewer:a}})})})}}(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_BOOK_REVIEWER",payload:{book:{},reviewer:{}}})}},{key:"render",value:function(){var e=this.props.books;return r.a.createElement("div",null,this.renderBook(e))}}]),t}(a.Component);var D=Object(i.b)(function(e){return{books:e.books}})(B),H=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",success:!1},n.submitForm=function(e){e.preventDefault(),n.props.dispatch(function(e){var t=e.email,n=e.password;return{type:"USER_LOGIN",payload:g.a.post("/api/login",{email:t,password:n}).then(function(e){return e.data})}}(n.state))},n.handleInputEmail=function(e){n.setState({email:e.target.value})},n.handleInputPassword=function(e){n.setState({password:e.target.value})},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.user.isAuth&&this.props.history.push("/user")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Log in here"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter your mail",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter your password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit"},"Log in"),r.a.createElement("div",{className:"error"},e.user?r.a.createElement("div",null,e.user.message):null)))}}]),t}(a.Component);var L=Object(i.b)(function(e){return{user:e.user}})(H),T=function(e){var t=function(t){function n(){return Object(v.a)(this,n),Object(h.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(E.a)(n,t),Object(b.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"CHECK_AUTH",payload:g.a.get("/api/auth").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){e.user.user.isAuth||this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(a.Component);return Object(i.b)(function(e){return{user:e.user}})(t)},K=function(){return r.a.createElement(W,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:T(_)}),r.a.createElement(d.a,{path:"/books/:id",exact:!0,component:D}),r.a.createElement(d.a,{path:"/login",exact:!0,component:L})))},M=n(23);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach(function(t){Object(M.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach(function(t){Object(M.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=Object(s.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOOKS":return U({},e,{list:t.payload});case"GET_BOOK_WITH_REVIEWER":case"CLEAR_BOOK_REVIEWER":return{book:t.payload.book,reviewer:t.payload.reviewer};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"CHECK_AUTH":return F({},e,{user:t.payload});default:return e}}}),q=Object(s.a)(p.a,m.a)(s.d);c.a.render(r.a.createElement(i.a,{store:q(J)},r.a.createElement(l.a,null,r.a.createElement(K,null))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.11fca01c.chunk.js.map